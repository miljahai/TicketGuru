{"ast":null,"code":"import{useRef,useCallback}from'react';//import { useUser } from '../util/UserProvider';\nimport{AgGridReact}from'ag-grid-react';import{Box,Button}from\"@mui/material\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";export default function Reports(props){//const user = useUser();\nvar tickets=props.tickets;// Grid Configuration\nvar gridRef=useRef();var gridOptions={columnDefs:[{headerName:'Id',field:'ticket_id',sortable:true,filter:true,width:100},{headerName:'Price',field:'price',sortable:true,filter:true,width:100},{headerName:'Salesevent',field:'salesEvent.salesevent_id',sortable:true,filter:true,width:100},{headerName:'Sale date',field:'salesEvent.sale_date',sortable:true,filter:'agDateColumnFilter',cellRenderer:function cellRenderer(data){return data.value?new Date(data.value).toLocaleDateString():'';}},{headerName:'Event',field:'ticketType.eventRecord.eventrecord_name',sortable:true,filter:true},{headerName:'Ticket type',field:'ticketType.name',sortable:true,filter:true},{headerName:'Myyjä ID',field:'salesEvent.appUser.appuser_id',sortable:true,filter:true}]};var defaultColDef={cellStyle:function cellStyle(){return{display:'flex',alignItems:'left',justifyContent:'left'};}};var onBtExport=useCallback(function(){gridRef.current.api.exportDataAsCsv();},[]);return/*#__PURE__*/_jsxs(Box,{children:[/*#__PURE__*/_jsx(\"div\",{children:/*#__PURE__*/_jsx(Button,{onClick:onBtExport,children:\"Export AS CSV\"})}),/*#__PURE__*/_jsx(\"div\",{className:\"ag-theme-alpine\",style:{height:'900px',width:'100%',margin:'auto'},children:/*#__PURE__*/_jsx(AgGridReact//onGridReady={params => gridRef.current = params.api\n,{gridOptions:gridOptions,defaultColDef:defaultColDef,ref:gridRef,rowData:tickets,animateRows:true,pagination:true,paginationAutoPageSize:true})})]});}","map":{"version":3,"names":["useRef","useCallback","AgGridReact","Box","Button","jsx","_jsx","jsxs","_jsxs","Reports","props","tickets","gridRef","gridOptions","columnDefs","headerName","field","sortable","filter","width","cellRenderer","data","value","Date","toLocaleDateString","defaultColDef","cellStyle","display","alignItems","justifyContent","onBtExport","current","api","exportDataAsCsv","children","onClick","className","style","height","margin","ref","rowData","animateRows","pagination","paginationAutoPageSize"],"sources":["C:/Users/sirvi/Documents/IT-tradenomikoulutus/OhjelmistoProjektiI/TicketGuru/ticketguruclient/src/components/Reports.js"],"sourcesContent":["import { useRef, useCallback } from 'react';\r\n//import { useUser } from '../util/UserProvider';\r\nimport { AgGridReact } from 'ag-grid-react';\r\nimport { Box, Button } from \"@mui/material\";\r\n\r\n\r\n\r\n\r\n\r\nexport default function Reports(props) {\r\n\r\n    //const user = useUser();\r\n    const tickets = props.tickets;\r\n\r\n    // Grid Configuration\r\n    const gridRef = useRef();\r\n    const gridOptions = {\r\n     columnDefs : [\r\n        { headerName: 'Id', field: 'ticket_id', sortable: true, filter: true, width: 100 },\r\n        { headerName: 'Price', field: 'price', sortable: true, filter: true, width: 100},\r\n        { headerName: 'Salesevent', field: 'salesEvent.salesevent_id', sortable: true, filter: true, width: 100},\r\n        { headerName: 'Sale date', field: 'salesEvent.sale_date', sortable: true, filter: 'agDateColumnFilter',\r\n            cellRenderer: (data) => {\r\n                return data.value ? (new Date(data.value)).toLocaleDateString() : '';\r\n         }}, \r\n        { headerName: 'Event', field: 'ticketType.eventRecord.eventrecord_name', sortable: true, filter: true},\r\n        { headerName: 'Ticket type', field: 'ticketType.name', sortable: true, filter: true }, \r\n        { headerName: 'Myyjä ID', field: 'salesEvent.appUser.appuser_id', sortable: true, filter: true}\r\n    ],\r\n\r\n}\r\n    const defaultColDef = {\r\n        cellStyle: () => ({ display: 'flex', alignItems: 'left', justifyContent: 'left' })\r\n    }\r\n\r\n    const onBtExport = useCallback(() => {\r\n        gridRef.current.api.exportDataAsCsv();\r\n    }, []);\r\n      \r\n    return (\r\n        <Box>\r\n            <div>\r\n          <Button onClick={onBtExport}>Export AS CSV</Button>\r\n            </div>\r\n            <div className=\"ag-theme-alpine\" style={{height: '900px',width: '100%', margin: 'auto'}}>\r\n\r\n                <AgGridReact\r\n                    //onGridReady={params => gridRef.current = params.api\r\n                    gridOptions={gridOptions}\r\n                    defaultColDef={defaultColDef}\r\n                    ref={gridRef}\r\n                    rowData={tickets}\r\n                    animateRows={true}\r\n                    pagination={true}\r\n                    paginationAutoPageSize={true}\r\n                ></AgGridReact>\r\n            </div>        \r\n        </Box>\r\n    )\r\n}\r\n\r\n"],"mappings":"AAAA,OAASA,MAAM,CAAEC,WAAW,KAAQ,OAAO,CAC3C;AACA,OAASC,WAAW,KAAQ,eAAe,CAC3C,OAASC,GAAG,CAAEC,MAAM,KAAQ,eAAe,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAM5C,cAAe,SAAS,CAAAC,OAAOA,CAACC,KAAK,CAAE,CAEnC;AACA,GAAM,CAAAC,OAAO,CAAGD,KAAK,CAACC,OAAO,CAE7B;AACA,GAAM,CAAAC,OAAO,CAAGZ,MAAM,EAAE,CACxB,GAAM,CAAAa,WAAW,CAAG,CACnBC,UAAU,CAAG,CACV,CAAEC,UAAU,CAAE,IAAI,CAAEC,KAAK,CAAE,WAAW,CAAEC,QAAQ,CAAE,IAAI,CAAEC,MAAM,CAAE,IAAI,CAAEC,KAAK,CAAE,GAAI,CAAC,CAClF,CAAEJ,UAAU,CAAE,OAAO,CAAEC,KAAK,CAAE,OAAO,CAAEC,QAAQ,CAAE,IAAI,CAAEC,MAAM,CAAE,IAAI,CAAEC,KAAK,CAAE,GAAG,CAAC,CAChF,CAAEJ,UAAU,CAAE,YAAY,CAAEC,KAAK,CAAE,0BAA0B,CAAEC,QAAQ,CAAE,IAAI,CAAEC,MAAM,CAAE,IAAI,CAAEC,KAAK,CAAE,GAAG,CAAC,CACxG,CAAEJ,UAAU,CAAE,WAAW,CAAEC,KAAK,CAAE,sBAAsB,CAAEC,QAAQ,CAAE,IAAI,CAAEC,MAAM,CAAE,oBAAoB,CAClGE,YAAY,CAAE,SAAAA,aAACC,IAAI,CAAK,CACpB,MAAO,CAAAA,IAAI,CAACC,KAAK,CAAI,GAAI,CAAAC,IAAI,CAACF,IAAI,CAACC,KAAK,CAAC,CAAEE,kBAAkB,EAAE,CAAG,EAAE,CAC3E,CAAC,CAAC,CACH,CAAET,UAAU,CAAE,OAAO,CAAEC,KAAK,CAAE,yCAAyC,CAAEC,QAAQ,CAAE,IAAI,CAAEC,MAAM,CAAE,IAAI,CAAC,CACtG,CAAEH,UAAU,CAAE,aAAa,CAAEC,KAAK,CAAE,iBAAiB,CAAEC,QAAQ,CAAE,IAAI,CAAEC,MAAM,CAAE,IAAK,CAAC,CACrF,CAAEH,UAAU,CAAE,UAAU,CAAEC,KAAK,CAAE,+BAA+B,CAAEC,QAAQ,CAAE,IAAI,CAAEC,MAAM,CAAE,IAAI,CAAC,CAGvG,CAAC,CACG,GAAM,CAAAO,aAAa,CAAG,CAClBC,SAAS,CAAE,SAAAA,UAAA,QAAO,CAAEC,OAAO,CAAE,MAAM,CAAEC,UAAU,CAAE,MAAM,CAAEC,cAAc,CAAE,MAAO,CAAC,EACrF,CAAC,CAED,GAAM,CAAAC,UAAU,CAAG7B,WAAW,CAAC,UAAM,CACjCW,OAAO,CAACmB,OAAO,CAACC,GAAG,CAACC,eAAe,EAAE,CACzC,CAAC,CAAE,EAAE,CAAC,CAEN,mBACIzB,KAAA,CAACL,GAAG,EAAA+B,QAAA,eACA5B,IAAA,QAAA4B,QAAA,cACF5B,IAAA,CAACF,MAAM,EAAC+B,OAAO,CAAEL,UAAW,CAAAI,QAAA,CAAC,eAAa,EAAS,EAC3C,cACN5B,IAAA,QAAK8B,SAAS,CAAC,iBAAiB,CAACC,KAAK,CAAE,CAACC,MAAM,CAAE,OAAO,CAACnB,KAAK,CAAE,MAAM,CAAEoB,MAAM,CAAE,MAAM,CAAE,CAAAL,QAAA,cAEpF5B,IAAA,CAACJ,WACG;AAAA,EACAW,WAAW,CAAEA,WAAY,CACzBY,aAAa,CAAEA,aAAc,CAC7Be,GAAG,CAAE5B,OAAQ,CACb6B,OAAO,CAAE9B,OAAQ,CACjB+B,WAAW,CAAE,IAAK,CAClBC,UAAU,CAAE,IAAK,CACjBC,sBAAsB,CAAE,IAAK,EAClB,EACb,GACJ,CAEd"},"metadata":{},"sourceType":"module","externalDependencies":[]}