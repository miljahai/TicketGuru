{"ast":null,"code":"import _slicedToArray from\"C:/Users/sirvi/Documents/IT-tradenomikoulutus/OhjelmistoProjektiI/TicketGuru/ticketguruclient/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import{Box,Button,Typography,AppBar,Toolbar,Container}from\"@mui/material\";import Sivupalkki from\"../components/Sivupalkki\";import{Link,Outlet}from\"react-router-dom\";import{useEffect,useState}from\"react\";import axios from\"axios\";import{useUser}from'../util/UserProvider';import AddIcon from'@mui/icons-material/Add';import AppUsers from\"../components/AppUsers\";import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function Users(){var _useState=useState([]),_useState2=_slicedToArray(_useState,2),users=_useState2[0],setUsers=_useState2[1];var user=useUser();// Get all users\nuseEffect(function(){Promise.all([axios.get('http://localhost:8080/users',{headers:{'Authorization':\"Bearer \".concat(user.jwt)}})]).then(function(_ref){var _ref2=_slicedToArray(_ref,1),usersResponse=_ref2[0];console.log('Users fetched:',usersResponse.data);setUsers(usersResponse.data);}).catch(function(error){console.log('Error fetching users: ',error);});},[user.jwt]);return/*#__PURE__*/_jsxs(Container,{children:[/*#__PURE__*/_jsxs(Box,{component:\"span\",sx:{p:2},children:[/*#__PURE__*/_jsx(AppBar,{position:\"static\",sx:{borderRadius:'15px 50px'},children:/*#__PURE__*/_jsxs(Toolbar,{children:[/*#__PURE__*/_jsx(Sivupalkki,{}),/*#__PURE__*/_jsx(Typography,{component:Link,to:\"/\",sx:{flexGrow:1,textAlign:'center'},variant:\"h1\",children:\"TicketGuru\"})]})}),/*#__PURE__*/_jsx(Outlet,{}),/*#__PURE__*/_jsx(Typography,{variant:\"h2\",sx:{flexGrow:1,textAlign:'center'},children:\"K\\xE4ytt\\xE4j\\xE4t\"})]}),/*#__PURE__*/_jsx(Button,{component:Link,to:\"../signup\",endIcon:/*#__PURE__*/_jsx(AddIcon,{}),children:\"Lis\\xE4\\xE4 K\\xE4ytt\\xE4j\\xE4\"}),/*#__PURE__*/_jsx(AppUsers,{users:users})]});}export default Users;","map":{"version":3,"names":["Box","Button","Typography","AppBar","Toolbar","Container","Sivupalkki","Link","Outlet","useEffect","useState","axios","useUser","AddIcon","AppUsers","jsx","_jsx","jsxs","_jsxs","Users","_useState","_useState2","_slicedToArray","users","setUsers","user","Promise","all","get","headers","concat","jwt","then","_ref","_ref2","usersResponse","console","log","data","catch","error","children","component","sx","p","position","borderRadius","to","flexGrow","textAlign","variant","endIcon"],"sources":["C:/Users/sirvi/Documents/IT-tradenomikoulutus/OhjelmistoProjektiI/TicketGuru/ticketguruclient/src/pages/Users.js"],"sourcesContent":["import { Box, Button, Typography, AppBar, Toolbar, Container } from \"@mui/material\";\r\nimport Sivupalkki from \"../components/Sivupalkki\";\r\nimport { Link, Outlet } from \"react-router-dom\";\r\nimport { useEffect, useState } from \"react\";\r\nimport axios from \"axios\";\r\nimport { useUser } from '../util/UserProvider';\r\nimport AddIcon from '@mui/icons-material/Add';\r\nimport AppUsers from \"../components/AppUsers\";\r\n\r\n\r\nfunction Users() {\r\n    const [users, setUsers] = useState([]);\r\n    const user = useUser();\r\n\r\n    // Get all users\r\n    useEffect(() => {\r\n        Promise.all([\r\n            axios.get('http://localhost:8080/users', {\r\n                headers: {\r\n                    'Authorization': `Bearer ${user.jwt}`\r\n                }\r\n            })\r\n        ]).then(([usersResponse]) => {\r\n            console.log('Users fetched:', usersResponse.data);\r\n            setUsers(usersResponse.data);\r\n        }).catch(error => {\r\n            console.log('Error fetching users: ', error);\r\n        });\r\n    }, [user.jwt]);\r\n\r\n    return (\r\n        <Container>\r\n            <Box component=\"span\" sx={{ p: 2 }}>\r\n                <AppBar position='static' sx={{ borderRadius: '15px 50px' }}>\r\n                    <Toolbar>\r\n                        {<Sivupalkki />}\r\n                        <Typography component={Link} to=\"/\" sx={{ flexGrow: 1, textAlign: 'center' }} variant=\"h1\">TicketGuru</Typography>\r\n                    </Toolbar>\r\n                </AppBar>\r\n                <Outlet />\r\n                <Typography variant=\"h2\" sx={{ flexGrow: 1, textAlign: 'center' }}>Käyttäjät</Typography>\r\n            </Box>\r\n                <Button component={Link} to=\"../signup\" endIcon={<AddIcon />} >Lisää Käyttäjä</Button>\r\n            <AppUsers users={users} />\r\n        </Container >\r\n    )\r\n}\r\n\r\nexport default Users;"],"mappings":"mLAAA,OAASA,GAAG,CAAEC,MAAM,CAAEC,UAAU,CAAEC,MAAM,CAAEC,OAAO,CAAEC,SAAS,KAAQ,eAAe,CACnF,MAAO,CAAAC,UAAU,KAAM,0BAA0B,CACjD,OAASC,IAAI,CAAEC,MAAM,KAAQ,kBAAkB,CAC/C,OAASC,SAAS,CAAEC,QAAQ,KAAQ,OAAO,CAC3C,MAAO,CAAAC,KAAK,KAAM,OAAO,CACzB,OAASC,OAAO,KAAQ,sBAAsB,CAC9C,MAAO,CAAAC,OAAO,KAAM,yBAAyB,CAC7C,MAAO,CAAAC,QAAQ,KAAM,wBAAwB,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,yBAG9C,QAAS,CAAAC,KAAKA,CAAA,CAAG,CACb,IAAAC,SAAA,CAA0BV,QAAQ,CAAC,EAAE,CAAC,CAAAW,UAAA,CAAAC,cAAA,CAAAF,SAAA,IAA/BG,KAAK,CAAAF,UAAA,IAAEG,QAAQ,CAAAH,UAAA,IACtB,GAAM,CAAAI,IAAI,CAAGb,OAAO,EAAE,CAEtB;AACAH,SAAS,CAAC,UAAM,CACZiB,OAAO,CAACC,GAAG,CAAC,CACRhB,KAAK,CAACiB,GAAG,CAAC,6BAA6B,CAAE,CACrCC,OAAO,CAAE,CACL,eAAe,WAAAC,MAAA,CAAYL,IAAI,CAACM,GAAG,CACvC,CACJ,CAAC,CAAC,CACL,CAAC,CAACC,IAAI,CAAC,SAAAC,IAAA,CAAqB,KAAAC,KAAA,CAAAZ,cAAA,CAAAW,IAAA,IAAnBE,aAAa,CAAAD,KAAA,IACnBE,OAAO,CAACC,GAAG,CAAC,gBAAgB,CAAEF,aAAa,CAACG,IAAI,CAAC,CACjDd,QAAQ,CAACW,aAAa,CAACG,IAAI,CAAC,CAChC,CAAC,CAAC,CAACC,KAAK,CAAC,SAAAC,KAAK,CAAI,CACdJ,OAAO,CAACC,GAAG,CAAC,wBAAwB,CAAEG,KAAK,CAAC,CAChD,CAAC,CAAC,CACN,CAAC,CAAE,CAACf,IAAI,CAACM,GAAG,CAAC,CAAC,CAEd,mBACIb,KAAA,CAACb,SAAS,EAAAoC,QAAA,eACNvB,KAAA,CAAClB,GAAG,EAAC0C,SAAS,CAAC,MAAM,CAACC,EAAE,CAAE,CAAEC,CAAC,CAAE,CAAE,CAAE,CAAAH,QAAA,eAC/BzB,IAAA,CAACb,MAAM,EAAC0C,QAAQ,CAAC,QAAQ,CAACF,EAAE,CAAE,CAAEG,YAAY,CAAE,WAAY,CAAE,CAAAL,QAAA,cACxDvB,KAAA,CAACd,OAAO,EAAAqC,QAAA,eACHzB,IAAA,CAACV,UAAU,IAAG,cACfU,IAAA,CAACd,UAAU,EAACwC,SAAS,CAAEnC,IAAK,CAACwC,EAAE,CAAC,GAAG,CAACJ,EAAE,CAAE,CAAEK,QAAQ,CAAE,CAAC,CAAEC,SAAS,CAAE,QAAS,CAAE,CAACC,OAAO,CAAC,IAAI,CAAAT,QAAA,CAAC,YAAU,EAAa,GAC5G,EACL,cACTzB,IAAA,CAACR,MAAM,IAAG,cACVQ,IAAA,CAACd,UAAU,EAACgD,OAAO,CAAC,IAAI,CAACP,EAAE,CAAE,CAAEK,QAAQ,CAAE,CAAC,CAAEC,SAAS,CAAE,QAAS,CAAE,CAAAR,QAAA,CAAC,oBAAS,EAAa,GACvF,cACFzB,IAAA,CAACf,MAAM,EAACyC,SAAS,CAAEnC,IAAK,CAACwC,EAAE,CAAC,WAAW,CAACI,OAAO,cAAEnC,IAAA,CAACH,OAAO,IAAI,CAAA4B,QAAA,CAAE,+BAAc,EAAS,cAC1FzB,IAAA,CAACF,QAAQ,EAACS,KAAK,CAAEA,KAAM,EAAG,GACjB,CAErB,CAEA,cAAe,CAAAJ,KAAK"},"metadata":{},"sourceType":"module","externalDependencies":[]}